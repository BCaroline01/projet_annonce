{% extends "layout.twig" %}

{% block title %}<title>TheGoodCorner | Catégorie {{type}}</title>{% endblock %}

{% block content %}

<h1 class="title">{{type}}</h1>

<button id="fixedButton"><a href="./insertview">Créer votre annonce</a></button>

<div class="page">
    <a href='./search?p={{ i - nbPage }}&type={{type}}'>&laquo;</a>
    {% set nbPage = ads['1'] %}
    {% for i in 1 .. nbPage %}
    <a href='./search?p={{ i }}&type={{type}}'>{{ i }}</a>
    {% endfor %}
    <a href='./search?p={{ i + nbPage }}&type={{type}}'>&raquo;</a>
</div>
<section>
    {% for ad in ads['0'] %}
    <article class="card">
        <span>
            <h2>{{ad.title}}</h2>
        </span>
        <div class="card-content">
            <div class="picture">
                <img src="{{ad.image}}" alt="">
            </div>
            <div class="preview-content">
                <p>{{ad.date|date("d/m/y") }}</p>
                <p>{{ad.price}} €</p>
                <p>{{ad.type}}</p>
                <button><a href="ads?id={{ad.idAds}}">Afficher plus</a></button>
            </div>
        </div>
    </article>
    {% endfor %}

    <article id="mobileCard">
        {% for ad in ads['0'] %}
        <div class="card2">
            <div class="img-container2"><img src="{{ad.image}}" alt=""></div>
            <div class="preview-content2">
                <span>
                    <h3>{{ad.title}}</h3>
                </span>
                <div>
                    <p>{{ad.date| date("d/m/y")}}</p>
                    <p>{{ad.price}} €</p>
                </div>
                <p>{{ad.type}}</p>
                <button><a href="ads?id={{ad.idAds}}">Afficher plus</a></button>
            </div>
        </div>
        {% endfor %}
    </article>
</section>
<div class="page">
    <a href='./search?p={{ i - nbPage }}'>&laquo;</a>
    {% set nbPage = ads['1'] %}
    {% for i in 1 .. nbPage %}
    <a href='./search?p={{ i }}'>{{ i }}</a>
    {% endfor %}
    <a href='./search?p={{ i + nbPage }}'>&raquo;</a>
</div>

{% endblock %}